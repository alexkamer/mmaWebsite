{% extends "base.html" %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-red-900">
    <!-- Hero Section -->
    <div class="relative overflow-hidden">
        <div class="absolute inset-0 bg-black opacity-40"></div>
        <div class="relative z-10 text-center py-20 px-4">
            <div class="max-w-4xl mx-auto">
                <div class="inline-flex items-center bg-red-600 text-white px-6 py-2 rounded-full text-sm font-semibold mb-6 animate-pulse">
                    üî• LIVE RANKINGS ‚Ä¢ Updated from UFC.com
                </div>
                <h1 class="text-5xl md:text-7xl font-black text-white mb-6 tracking-tight">
                    UFC <span class="text-red-500">RANKINGS</span>
                </h1>
                <p class="text-xl md:text-2xl text-gray-300 max-w-2xl mx-auto">
                    Official current champions and rankings across all UFC divisions
                </p>
            </div>
        </div>
        <div class="absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-gray-50 to-transparent"></div>
    </div>

    <div class="bg-gray-50 py-12">
        <div class="container mx-auto px-4">

        {% if divisions %}
        <div class="space-y-12">
            {% for division_name, fighters in divisions.items() %}
            <div class="bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-200 hover:shadow-3xl transition-all duration-300 transform hover:-translate-y-1">
                <!-- Division Header -->
                <div class="bg-gradient-to-r from-gray-900 via-red-600 to-gray-900 text-white px-8 py-6 relative overflow-hidden">
                    <div class="absolute inset-0 bg-black opacity-20"></div>
                    <div class="relative z-10 flex items-center justify-between">
                        <h2 class="text-3xl font-black tracking-wide">{{ division_name }}</h2>
                        <div class="text-sm font-semibold bg-white bg-opacity-20 px-3 py-1 rounded-full">
                            {{ fighters|length }} FIGHTERS
                        </div>
                    </div>
                    <div class="absolute -right-8 -top-8 w-32 h-32 bg-white opacity-5 rounded-full"></div>
                </div>

                <!-- Fighters List -->
                <div class="p-8">
                    <div class="space-y-3">
                        {% for fighter in fighters %}
                        <div class="group relative {% if fighter.position == 'C' %}bg-gradient-to-r from-yellow-50 to-amber-50 border-l-4 border-yellow-500 shadow-lg{% elif fighter.position == 'IC' %}bg-gradient-to-r from-orange-50 to-amber-50 border-l-4 border-orange-500 shadow-md{% else %}bg-white border border-gray-200{% endif %} rounded-xl p-5 hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]">

                            <!-- Champion Crown Background Effect -->
                            {% if fighter.position == 'C' %}
                            <div class="absolute top-0 right-0 w-20 h-20 bg-yellow-400 opacity-10 rounded-full -translate-y-2 translate-x-2"></div>
                            {% endif %}

                            <div class="flex items-center justify-between relative z-10">
                                <div class="flex items-center space-x-6">
                                    <!-- Enhanced Rank Badge -->
                                    <div class="flex-shrink-0 relative">
                                        {% if fighter.position == 'C' %}
                                        <div class="w-16 h-16 bg-gradient-to-br from-yellow-400 via-yellow-500 to-yellow-600 text-white rounded-xl flex items-center justify-center font-black shadow-lg transform rotate-3 group-hover:rotate-6 transition-transform duration-300">
                                            <span class="text-xl">üëë</span>
                                        </div>
                                        <div class="absolute -top-1 -right-1 w-4 h-4 bg-yellow-300 rounded-full animate-pulse"></div>
                                        {% elif fighter.position == 'IC' %}
                                        <div class="w-16 h-16 bg-gradient-to-br from-orange-400 via-orange-500 to-red-500 text-white rounded-xl flex items-center justify-center font-black shadow-lg transform -rotate-2 group-hover:rotate-0 transition-transform duration-300">
                                            <span class="text-xl">ü•à</span>
                                        </div>
                                        {% else %}
                                        <div class="w-16 h-16 bg-gradient-to-br from-gray-600 via-gray-700 to-gray-800 text-white rounded-xl flex items-center justify-center font-black shadow-lg group-hover:shadow-2xl transition-shadow duration-300">
                                            <span class="text-lg">#{{ fighter.position }}</span>
                                        </div>
                                        {% endif %}
                                    </div>

                                    <!-- Enhanced Fighter Photo -->
                                    <div class="flex-shrink-0 relative">
                                        {% if fighter.headshot_url %}
                                        <img src="{{ fighter.headshot_url }}" alt="{{ fighter.full_name }}"
                                             class="w-20 h-20 rounded-2xl object-cover border-3 border-white shadow-xl group-hover:border-red-500 transition-all duration-300">
                                        <div class="absolute inset-0 bg-gradient-to-t from-black opacity-0 group-hover:opacity-20 rounded-2xl transition-opacity duration-300"></div>
                                        {% else %}
                                        <div class="w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center border-3 border-white shadow-xl">
                                            <span class="text-3xl">ü•ä</span>
                                        </div>
                                        {% endif %}
                                        <!-- Status indicator -->
                                        {% if fighter.position == 'C' %}
                                        <div class="absolute -bottom-1 -right-1 w-6 h-6 bg-yellow-500 rounded-full border-2 border-white flex items-center justify-center">
                                            <span class="text-xs text-white font-bold">C</span>
                                        </div>
                                        {% endif %}
                                    </div>

                                    <!-- Enhanced Fighter Info -->
                                    <div class="flex-1">
                                        <h3 class="text-xl font-black text-gray-900 group-hover:text-red-600 transition-colors duration-300">
                                            {{ fighter.full_name }}
                                        </h3>
                                        {% if fighter.position == 'C' %}
                                        <div class="flex items-center space-x-2 mt-1">
                                            <span class="text-yellow-600 font-bold text-lg">üëë CHAMPION</span>
                                            <div class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-semibold rounded-full">TITLE HOLDER</div>
                                        </div>
                                        {% elif fighter.position == 'IC' %}
                                        <div class="flex items-center space-x-2 mt-1">
                                            <span class="text-orange-600 font-bold text-lg">ü•à INTERIM CHAMPION</span>
                                            <div class="px-2 py-1 bg-orange-100 text-orange-800 text-xs font-semibold rounded-full">INTERIM</div>
                                        </div>
                                        {% else %}
                                        <div class="flex items-center space-x-2 mt-1">
                                            <span class="text-gray-600 font-semibold">Ranked #{{ fighter.position }}</span>
                                            <div class="px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full">CONTENDER</div>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>

                                <!-- Enhanced Action Button -->
                                <div class="flex-shrink-0">
                                    {% if fighter.athlete_id %}
                                    <a href="/fighter/{{ fighter.athlete_id }}"
                                       class="group/btn bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white px-6 py-3 rounded-xl font-bold shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105 flex items-center space-x-2">
                                        <span>View Fighter</span>
                                        <svg class="w-5 h-5 group-hover/btn:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                                        </svg>
                                    </a>
                                    {% else %}
                                    <div class="bg-gray-200 text-gray-500 px-6 py-3 rounded-xl font-semibold cursor-not-allowed">
                                        No Profile
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        {% else %}
        <!-- No Data State -->
        <div class="text-center py-20">
            <div class="max-w-md mx-auto bg-white rounded-2xl shadow-xl p-12">
                <div class="text-8xl mb-8 animate-bounce">üèÜ</div>
                <h2 class="text-3xl font-bold text-gray-900 mb-6">Loading Rankings...</h2>
                <p class="text-gray-600 mb-8 text-lg">UFC rankings data is being updated from official sources.</p>
                <a href="/" class="inline-flex items-center bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white px-8 py-4 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                    Back to Home
                </a>
            </div>
        </div>
        {% endif %}

        <!-- Enhanced P4P Section -->
        <div class="text-center mt-20">
            <div class="max-w-4xl mx-auto">
                <div class="bg-gradient-to-br from-purple-900 via-purple-700 to-blue-900 rounded-3xl shadow-2xl p-12 relative overflow-hidden">
                    <div class="absolute inset-0 bg-black opacity-30"></div>
                    <div class="absolute top-0 left-0 w-40 h-40 bg-purple-500 opacity-20 rounded-full -translate-x-20 -translate-y-20"></div>
                    <div class="absolute bottom-0 right-0 w-60 h-60 bg-blue-500 opacity-20 rounded-full translate-x-20 translate-y-20"></div>

                    <div class="relative z-10">
                        <div class="text-6xl mb-6">üíé</div>
                        <h3 class="text-4xl font-black text-white mb-6">POUND-FOR-POUND ELITE</h3>
                        <p class="text-xl text-purple-100 mb-10 max-w-2xl mx-auto">
                            Discover the ultimate rankings that transcend weight classes. See how the greatest fighters of all time stack up across all divisions.
                        </p>

                        <div class="flex flex-col sm:flex-row gap-4 justify-center">
                            <a href="/p4p-rankings" class="inline-flex items-center bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white px-8 py-4 rounded-xl font-bold shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105 group">
                                <span>View P4P Rankings</span>
                                <svg class="ml-3 w-6 h-6 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Footer -->
        <div class="text-center mt-16 pb-8">
            <div class="max-w-2xl mx-auto bg-white rounded-2xl shadow-lg p-8">
                <div class="flex items-center justify-center space-x-3 mb-4">
                    <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                    <span class="text-gray-700 font-semibold">LIVE DATA</span>
                </div>
                <p class="text-gray-600 text-lg">
                    Rankings updated in real-time from <span class="font-bold text-red-600">UFC.com</span>
                </p>
                <p class="text-sm text-gray-500 mt-2">
                    Last synced: <span class="font-medium">{{ moment().format('MMMM Do YYYY, h:mm A') if moment else 'Recently' }}</span>
                </p>
            </div>
        </div>
        </div>
    </div>
</div>
{% endblock %}